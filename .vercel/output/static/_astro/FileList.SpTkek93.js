import{r as l}from"./index.LFf77hJu.js";var y={exports:{}},x={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _=l,C=Symbol.for("react.element"),E=Symbol.for("react.fragment"),R=Object.prototype.hasOwnProperty,S=_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function b(a,t,m){var r,c={},i=null,d=null;m!==void 0&&(i=""+m),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)R.call(t,r)&&!k.hasOwnProperty(r)&&(c[r]=t[r]);if(a&&a.defaultProps)for(r in t=a.defaultProps,t)c[r]===void 0&&(c[r]=t[r]);return{$$typeof:C,type:a,key:i,ref:d,props:c,_owner:S.current}}x.Fragment=E;x.jsx=b;x.jsxs=b;y.exports=x;var e=y.exports;/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const O=l.createContext({outlet:null,matches:[],isDataRoute:!1});function F(){let{matches:a}=l.useContext(O),t=a[a.length-1];return t?t.params:{}}new Promise(()=>{});function D({files:a}){const[t,m]=l.useState([]),[r,c]=l.useState([]),[i,d]=l.useState(a??[]),p=l.useRef(null),f=l.useRef(null),g=F(),{fileName:h}=g;async function j(s){const n=await(await fetch(`http://localhost:4321/api/content/${s}`,{headers:{"Content-Type":"application/text"}})).json();m(n.headers),c(n.data)}l.useEffect(()=>{h&&j(h)},[i]);async function w(s){const n=await(await fetch(`http://localhost:4321/api/delete/${s}`,{method:"DELETE"})).json(),u=a.filter(v=>v.id!==n.id);d(u)}function N(){const s=p.current?.value,o=a.filter(n=>n?.name?.includes(s));d(o)}return e.jsxs("div",{className:"grid grid-cols-[auto,1fr] w-full z-50",children:[e.jsxs("div",{className:"py-16 px-8 bg-gray-50 shadow-md shadow-slate-300 flex flex-col gap-y-4",children:[e.jsx("button",{className:"text-center rounded-full w-8 h-8 bg-slate-600 flex items-center justify-center mx-auto pb-1 cursor-pointer",onClick:()=>f.current?.showModal(),children:e.jsx("p",{className:"text-3xl text-white",children:"+"})}),e.jsx("dialog",{id:"my_modal_1",className:"modal",ref:f,children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Upload file!!"}),e.jsx("p",{className:"py-4",children:"Press ESC key or click the button below to close"}),e.jsxs("form",{className:"flex items-center gap-x-6 max-md:flex-col max-md:gap-y-6 my-4",method:"POST",action:"/api/upload",encType:"multipart/form-data",children:[e.jsx("input",{type:"file",name:"file",id:"file",required:!0,className:"file-input file-input-bordered border-orange-600 file-input-[orange-600] w-full max-w-xs my-4"}),e.jsx("button",{type:"submit",className:"border border-slate-600 bg-transparent text-orange-600 py-2.5 px-4 rounded-md hover:bg-orange-600 hover:border-orange-600 hover:text-white",children:"Upload"})]}),e.jsx("div",{className:"modal-action",children:e.jsx("form",{method:"dialog",children:e.jsx("div",{className:"flex items-center gap-x-4",children:e.jsx("button",{className:"btn",children:"Cancel"})})})})]})}),e.jsx("form",{children:e.jsx("input",{type:"text",ref:p,placeholder:"Search...",autoComplete:"off",className:"py-2 px-3 border border-orange-600 rounded-md w-full max-w-xs",onChange:N})}),i.map(s=>e.jsxs("div",{className:"flex items-center justify-center gap-x-2",children:[e.jsx("button",{className:"text-orange-600 font-bold",onClick:()=>j(s?.name??""),children:s.name}),e.jsx("button",{onClick:()=>w(s.id)})]},s.id))]}),e.jsx("div",{className:"overflow-x-scroll w-full",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{className:"text-xl",children:e.jsx("tr",{children:t.map((s,o)=>e.jsx("th",{children:s},o))})}),e.jsx("tbody",{children:r.map((s,o)=>e.jsx("tr",{className:"hover",children:Object.values(s).map((n,u)=>e.jsx("td",{children:n},u))},o))})]})})]})}export{D as default};
